## 逻辑结构
OS的设计和实现思路
- 整体式
- 层次式
- 微内核

### 整体式结构
1. 模块设计、编码和调试独立
2. 模块调用自由
3. 模块通信多以全局变量形式完成
>缺点：信息传递随意，维护和更新困难

### 层次结构
TCP/IP

所有功能模块按照调用顺序排成若干层，相邻层间只有单向依赖/调用

### 微内核结构
微内核+核外服务器
#### 微内核
足够小，提供OS最基本的核心功能和服务
#### 核外服务器
完成OS的绝大部分服务功能，等待应用程序提出请求。

### 应用
现代操作系统基本采用微内核结构

## CPU态
CPU的工作姿态，对资源和指令使用权限的描述

### 分类
- 用户态
- 内核态
- 管态

### 用户态向内核态转换
- 用户请求OS提供的服务
- 发生中断
- 用户进程产生错误（内部中断）
- 用户态企图执行特权指令

### 内核态向用户态转换
- 一般是执行中断返回：IRET

## 中断
- 强迫性中断和自愿中断
- 外中断和内中断
- 可屏蔽中断和不可屏蔽中断

### 中断响应过程
1. 识别中断源
2. 保存断点和现场
3. 装入中断服务程序的入口地址
4. 执行中断服务程序
5. 恢复断点和现场
6. 中断返回：IRET
