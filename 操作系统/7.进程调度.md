## 定义
在合适的时候以一定的策略选择一个就绪进程运行。

## 两个可量化指标
- 周转时间/平均周转时间
- 带权周转时间/平均带权周转时间

指标越小，系统吞吐量越高


## 调度算法
- FIFO ： 不利于短进程
- 短作业优先 ： 不利于长进程，会出现饥饿
- 响应比高优先：1+ wait/run, 
- 优先数
- 循环轮转(ROUND ROBIN): 进程以时间片q为单位轮流使用CPU


## Linux进程调度
### 进程优先级
1. 静态优先级
- 进程创建时指定或由用户修改
2. 动态优先级
- 在进程运行时可以按调度策略改变
- 非实时进程采用动态优先级，有调度程序计算
- 只要进程占有CPU，优先级随时间流失减小
### 进程类型
1. 普通进程
- 采用动态优先级调度
- 调度程序周期性修改优先级，避免饥饿
2. 实时进程
- 采用静态优先级调度
- 由用户预先指定，以后不会改变

### 调度时机
- 中断处理过程直接调用schedule()
- 中断处理过程返回用户态时直接调用schedule()
- 内核进程可以直接调用schedule()进行进程切换
- 用户态进程只有通过陷入内核后在中断处理过程中被动调度

### 进程切换
内核挂起当前CPU上的进程并恢复之前挂起的某个进程

#### 与中断上下文切换的差别
中断前后在同一进程上下文中，只是用户态向内核态执行。

### 调度和切换流程
1. 开始调度
2. 使用调度策略选择下一个运行进程
3. 进程上下文切换

### A、B进程切换的基本流程
1. 正在运行用户态进程A
2. 发生中断（时钟中断）
3. 保存当前进程的cs:eip/esp/eflags内核堆栈
4. 从内核堆栈装入中断服务历程cs:eip/ss:esp
5. 保留A现场
6. 中断处理过程或返回调用schedule()
7. 进程上下文切换
8. 运行用户态进程B
9. 恢复B现场
10. iret
11. 继续运行用户态进程B
